# ポスレジAPIについて

ここからSquareのPOSレジAPIを使った決済連携について紹介します。

## 仕組み

POSレジとはSquareが提供するAndroid/iOSアプリになります。POSレジアプリはインテント/カスタムURLスキーマを用意しており、外部アプリから呼び出せるようになっています。

Androidではインテント、iOSではカスタムURLスキーマを使って呼び出します。


そして決済完了後、指定されたコールバックが行われます。これは主に2種類あります。

- **スマートフォン向けWebサイトの場合**  
開発者ポータル > Point of Sale API > Web にある Web Callback URLsにてコールバックするURLを指定します。
- **スマートフォンアプリの場合**  
Android/iOSでそれぞれバンドルIDを指定します。

今回はスマートフォン向けWebサイトを用いて開発します。なお、コールバックURLはPOSレジアプリからGETリクエストで呼び出されます。

## 実装するアプリについて

今回実装するアプリです（以下の画面はiOSの場合で説明しています）。

まずフォームが表示されます。入力内容は次の通りです。

- **金額**  
今回は日本円限定とします。
- **決済方法**  
クレジットカード、現金、ギフトカード、オフライン決済、その他から選べます。
- **取引に関する説明**  
任意の文字列です。

そして決済するボタンをタップするとPOSレジアプリが立ち上がります。

POSレジアプリにて決済を行うと、ご注文ありがとうございますという表示になります。

## 必要なもの

- **POSレジアプリ**  
Android版、iOS版があります。それぞれの環境に応じてインストールしてください。
- **カードリーダー**  
必須ではありませんが、ないとクレジットカード決済ができません。

----

では開発をはじめていきましょう。まず[HTML画面（フォーム）](./2-1.md)を作っていきます。

